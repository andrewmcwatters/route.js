(function(d,e,k){function f(){this.routes={}}function l(a,b){var c=new XMLHttpRequest;c.open("GET",a.templateUrl,!0);c.onload=function(){200<=c.status&&400>c.status&&b(c.responseText)};c.send()}function g(a){a.handler&&a.handler();a=new CustomEvent("routechange");d.dispatchEvent(a)}function h(){var a=d.route,b=a.routes,c=b[k.pathname]||b[null];c.templateUrl?l(c,function(b){a.template=b;g(c)}):g(c)}f.prototype.when=function(a,b){this.routes[a]=b;return this};f.prototype.otherwise=function(a){this.when(null,
a);return this};d.route=new f;d.addEventListener("popstate",h);(function(a){"loading"!=e.readyState?a():e.addEventListener("DOMContentLoaded",a)})(h);d.addEventListener("routechange",function(){var a=d.router,b=e.querySelector("[data-view]");b&&(b.innerHTML=a.template,a=new CustomEvent("viewcontentloaded"),b.dispatchEvent(a))})})(window,document,location);
